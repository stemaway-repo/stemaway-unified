<script type="text/discourse-plugin" version="0.6">
  const ajax = require('discourse/lib/ajax').ajax;
  const Topic = require('discourse/models/topic').default;

  api.registerConnectorClass('below-site-header', 'experts-homepage', {
      setupComponent(args, component) {

         api.onPageChange((url, title) => {
              if (url == "/" ) {
                  component.set('displayCustomHomepageBlocks', true);
              }
              else {
                  component.set('displayCustomHomepageBlocks', false);
              };

              if (url == "/") {
                  $('html').addClass('show-experts-homepage');
                  component.set('displayCustomHomepageHeader', true);
              }
              else {
                  $('html').removeClass('show-experts-homepage');
                  $('#main-outlet a').click(function(){
                      if ($(this).attr('href') == "/"){
                          component.set('displayCustomHomepageHeader', true);
                          $('.below-site-header-outlet.experts-homepage').removeClass("hidden");
                      }
                  });
                  $('.d-header .title').click(function(){
                      component.set('displayCustomHomepageHeader', true);
                      $('.below-site-header-outlet.experts-homepage').removeClass("hidden");
                  });
                  component.set('displayCustomHomepageHeader', false);
              }
          });
      }
  });
</script>
<script
  type="text/x-handlebars"
  data-template-name="/connectors/below-site-header/experts-homepage"
>
  {{#if displayCustomHomepageHeader}}
  <section class="homepage-jumbotron experts-homepage">
      <div class="jumbotron">
      <div class="jumbotron-image">
          <img loading="lazy" src="{{ theme-setting 'hero_image' }}" alt="">
      </div>
      <div class="jumbotron-titles">
        <h1 id="cover_title">{{{theme-setting 'hero_title'}}}</h1>
        <h2 id="cover_subtitle">{{{theme-setting 'hero_subtitle'}}}</h2>
      </div>
      <div class="jumbotron-quick-links">
          <div class="jumbotron-quick-links-container">
              <h3>{{{theme-setting 'hero_links_title'}}}</h3>
              <ul>
                  <li><a target="_blank" href="{{ theme-setting 'hero_link_1_url' }}"><svg class="fa d-icon d-icon-{{ theme-setting 'hero_link_1_icon' }} svg-icon svg-node" aria-hidden="true"><use xlink:href="#{{ theme-setting 'hero_link_1_icon' }}"></use></svg>{{theme-setting 'hero_link_1_title'}}</a></li>
                  <li><a target="_blank" href="{{ theme-setting 'hero_link_2_url' }}"><svg class="fa d-icon d-icon-{{ theme-setting 'hero_link_2_icon' }} svg-icon svg-node" aria-hidden="true"><use xlink:href="#{{ theme-setting 'hero_link_2_icon' }}"></use></svg>{{theme-setting 'hero_link_2_title'}}</a></li>
                  <li><a target="_blank" href="{{ theme-setting 'hero_link_3_url' }}"><svg class="fa d-icon d-icon-{{ theme-setting 'hero_link_3_icon' }} svg-icon svg-node" aria-hidden="true"><use xlink:href="#{{ theme-setting 'hero_link_3_icon' }}"></use></svg>{{theme-setting 'hero_link_3_title'}}</a></li>
                  <li><a target="_blank" href="{{ theme-setting 'hero_link_4_url' }}"><svg class="fa d-icon d-icon-{{ theme-setting 'hero_link_4_icon' }} svg-icon svg-node" aria-hidden="true"><use xlink:href="#{{ theme-setting 'hero_link_4_icon' }}"></use></svg>{{theme-setting 'hero_link_4_title'}}</a></li>
              </ul>
          </div>
      </div>
    </div>
    </section>
    <section class="partners">
        <h2>{{ theme-setting 'partners_title' }}</h2>
        <div class="partners-images">
            <a href="{{ theme-setting 'partner_1_url' }}" target="_blank">
                <img src="{{ theme-setting 'partner_1_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'partner_2_url' }}" target="_blank">
                <img src="{{ theme-setting 'partner_2_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'partner_3_url' }}" target="_blank">
                <img src="{{ theme-setting 'partner_3_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'partner_4_url' }}" target="_blank">
                <img src="{{ theme-setting 'partner_4_image' }}" alt="">
            </a>
        </div>
    </section>
    <section class="universities">
        <div class="university-title">
            <h2>{{ theme-setting 'universities_title' }}</h2>
        </div>
        <div class="university-images">
            <a href="{{ theme-setting 'university_1_url' }}" target="_blank">
                <img src="{{ theme-setting 'university_1_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'university_2_url' }}" target="_blank">
                <img src="{{ theme-setting 'university_2_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'university_3_url' }}" target="_blank">
                <img src="{{ theme-setting 'university_3_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'university_4_url' }}" target="_blank">
                <img src="{{ theme-setting 'university_4_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'university_5_url' }}" target="_blank">
                <img src="{{ theme-setting 'university_5_image' }}" alt="">
            </a>
            <a href="{{ theme-setting 'university_6_url' }}" target="_blank">
                <img src="{{ theme-setting 'university_6_image' }}" alt="">
            </a>
        </div>
    </section>
    {{/if}}
</script>
